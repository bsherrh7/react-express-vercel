<html>
    <head>
        <link href="https://fonts.cdnfonts.com/css/product-sans" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js" integrity="sha512-u9akINsQsAkG9xjc1cnGF4zw5TFDwkxuc9vUp5dltDWYCSmyd0meygbvgXrlc/z7/o4a19Fb5V0OUE58J7dcyw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <link rel="stylesheet" href="login-page.css">
    </head>
    <title>Basetwoo</title>
    <body>
        <div id="container">
            <span id="loading-text">Loading</span>
            <div class="lds-dual-ring"></div>
        </div>
        <script>
            const LOCAL_STORAGE_KEYS ={
                ID_TOKEN: "id-token",
            }
            const isClientAuth = () => {
                localStorage.setItem(LOCAL_STORAGE_KEYS.ID_TOKEN,"44447")
                let id_token = localStorage.getItem(LOCAL_STORAGE_KEYS.ID_TOKEN)
                const url = "/auth";
                const loginCognitoUrl = "https://basetwoproduction.auth.us-east-1.amazoncognito.com/login?client_id=638pkboj9u6n1nvtikb5m06283&response_type=token&scope=aws.cognito.signin.user.admin+email+openid+phone+profile&redirect_uri=https://basetwo-frontend-basetwoai.vercel.app/dashboard";
                console.log("url: ",url);
                axios.post(url,{
                    id_token
                })
                .then(res => {
                    console.log("res: ",res)
                    document.write(res.data);
                },(error)=>{
                    window.location.url = loginCognitoUrl;
                })
                .catch(error => {
                    console.error(error)
                    window.location.url = loginCognitoUrl;
                });
            };
            isClientAuth();
        </script>
    </body>
</html>